"use strict";angular.module("tripinApp").controller("AdminHomeCtrl",function($scope,$rootScope,userService,NgTableParams,$uibModal,$log,$document){function updateUser(user){self.loading=!0,userService.updateUser(user).then(function(user){self.loading=!1})}var self=this;self.loading=!0,self.deleteUser=function(id){console.log(id),self.loading=!0,userService.deleteUser(id).then(function(){var userId=String(id);self.loading=!1,$scope.$apply(),angular.element(document.getElementById(userId)).remove()})},self.open=function(user){$uibModal.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",resolve:{items:function(){return user}}}).result.then(function(selectedItem){updateUser(selectedItem)},function(){})},function(){userService.getUsers().then(function(users){var data=users;self.tableParams=new NgTableParams({},{dataset:data}),self.loading=!1})}()}),angular.module("tripinApp").controller("ModalInstanceCtrl",function($uibModalInstance,items){var $ctrl=this;$ctrl.selected=items,$ctrl.ok=function(){$uibModalInstance.close($ctrl.selected)},$ctrl.cancel=function(){$uibModalInstance.dismiss("cancel")}});